---
title: "Billing Service"
description: "Сервис биллинга и подписок (Interface)"
---

# Billing Service

**Billing Service** отвечает за управление подписками пользователей, выставление счетов и учет потребления ресурсов.

> **Note**: В текущей версии репозитория реализация сервиса может отсутствовать или находиться в разработке. Данный документ описывает контракт взаимодействия.

## Контракты (API)

Контракты определены в пакете `@axion/contracts` (`proto/billing/*.proto`).

### Основные методы

#### Subscriptions

- `CreateSubscription`: Создание новой подписки.
- `CancelSubscription`: Отмена подписки.
- `GetSubscription`: Получение статуса.

#### Invoices

- `ListInvoices`: История счетов.
- `PayInvoice`: Оплата счета.

#### Usage

- `ReportUsage`: Отчет о потреблении ресурсов (например, количество серверов, время работы).
- `GetUsage`: Получение текущей статистики.

## Логика работы (Design)

1.  **Usage Tracking**:
    - Другие сервисы (`InfrastructureService`, `DeploymentService`) отправляют метрики потребления.
    - Billing агрегирует данные.
2.  **Invoicing**:
    - В конце расчетного периода генерируется Invoice.
    - Списание средств через платежный шлюз (Stripe / etc).

## Взаимодействия

- **Infrastructure Service**: Сообщает о количестве активных серверов.
- **Auth Service**: Привязка платежных данных к пользователю.
