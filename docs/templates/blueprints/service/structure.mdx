---
title: "Blueprint Structure: Service"
description: "Определяет какие компоненты использовать для Service (ElysiaJS/Hono)."
order: 3
---

# Blueprint Structure: Service

## Описание

Определяет какие компоненты использовать для Service (ElysiaJS/Hono).

<Callout type="info" title="Типы">
  См. [TYPES_AND_CONSTANTS](../../TYPES_AND_CONSTANTS) для типов компонентов и
  констант.
</Callout>

## Компоненты

**Обязательные:**

- `main-entry.mdx` → `src/main.ts` (`ComponentType.MAIN_ENTRY`)
- `http-rpc-server.mdx` → `src/messaging/http-rpc-server.ts` (`ComponentType.HTTP_RPC_SERVER`)
- `health-check.mdx` → `src/health/health.check.ts` (`ComponentType.HEALTH_CHECK`)

**Опциональные:**

- `http-rpc-client.mdx` → только если есть edges (HTTP) к другим сервисам
- `database/base/connection.mdx` + `{ORM}/schema.mdx` + `{ORM}/repository.mdx` → только если есть database node

## LLM Generation

**ТОЛЬКО:** `service.ts.mdx` → `src/modules/{feature}/{feature}.service.ts` (`LLMGenerationPoint.SERVICE_METHODS`)

## Процесс сборки

1. Определить ORM из database node (если есть database edge)
2. Загрузить компоненты из `REQUIRED_COMPONENTS[BlueprintType.SERVICE]`
3. Если нужна БД: добавить ORM-специфичные компоненты (`getORMComponents`)
4. Подставить переменные из конфигурации
5. Сгенерировать schema из UI формы (если нужна БД)
6. Сгенерировать Protobuf контракты из графа
7. LLM генерит только service.ts
8. Собрать все в финальную структуру
9. Валидация на всех уровнях

## Типизация

```typescript
import {
  BlueprintType,
  getRequiredComponents,
  getORMComponents,
  getFrameworkType,
} from "../../TYPES_AND_CONSTANTS";

const blueprint = BlueprintType.SERVICE;
const baseComponents = getRequiredComponents(blueprint);
const ormComponents = orm ? getORMComponents(orm) : [];
const allComponents = [...baseComponents, ...ormComponents];
const framework = getFrameworkType(blueprint); // FrameworkType.ELYSIA
```

## Checklist

- [ ] Все компоненты загружены
- [ ] ORM определен из database node (если есть database edge)
- [ ] ORM-специфичные компоненты добавлены (если нужна БД)
- [ ] Переменные подставлены
- [ ] LLM generation point определен
- [ ] Структура файлов корректна

---

_Структура для Service blueprint._
