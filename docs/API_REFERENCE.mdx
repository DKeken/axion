---
title: "API Reference"
description: "–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Axion Stack"
order: 3
---

# API Reference

Axion Stack –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç RESTful API –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Traefik edge router. –í—Å–µ API –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Better Auth –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Protobuf-compatible envelopes.

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ API endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Better Auth. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤:

### Bearer Token (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
curl -H "Authorization: Bearer <session_token>" \
  https://traefik.localhost/api/v1/graph/projects
```

### Cookie (–¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤)

```bash
curl -H "Cookie: better-auth.session_token=<session_token>" \
  https://traefik.localhost/api/v1/graph/projects
```

## üì° –ë–∞–∑–æ–≤—ã–µ URL

–í—Å–µ API –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Traefik:

- **Development**: `http://traefik.localhost`
- **Production**: `https://your-domain.com`

### –ü—Ä–µ—Ñ–∏–∫—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤

- **Graph Service**: `/api/v1/graph`
- **Codegen Service**: `/api/v1/codegen`
- **Infrastructure Service**: `/api/v1/infrastructure`
- **Deployment Service**: `/api/v1/deployment`

## üìö Swagger Documentation

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

- **Graph Service**: `http://localhost:3001/api-docs`
- **Codegen Service**: `http://localhost:3002/api-docs`
- **Infrastructure Service**: `http://localhost:3004/api-docs`
- **Deployment Service**: `http://localhost:3005/api-docs`

## üì¶ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

–í—Å–µ API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Protobuf-compatible envelope:

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "result": {
    "success": {
      "data": {
        /* –¥–∞–Ω–Ω—ã–µ */
      }
    }
  }
}
```

### –û—à–∏–±–∫–∞

```json
{
  "result": {
    "error": {
      "code": "VALIDATION_ERROR",
      "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
      "details": {}
    }
  }
}
```

### HTTP —Å—Ç–∞—Ç—É—Å—ã

- `200 OK` - —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `400 Bad Request` - –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `401 Unauthorized` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `403 Forbidden` - –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- `404 Not Found` - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409 Conflict` - –∫–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏–∫–∞—Ç)
- `429 Too Many Requests` - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- `500 Internal Server Error` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `502 Bad Gateway` - –æ—à–∏–±–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

## üîÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è

Endpoints, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é —á–µ—Ä–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)

–ü—Ä–∏–º–µ—Ä:

```bash
GET /api/v1/graph/projects?page=1&limit=20
```

–û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:

```json
{
  "result": {
    "success": {
      "data": {
        "projects": [
          /* –º–∞—Å—Å–∏–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤ */
        ],
        "pagination": {
          "page": 1,
          "limit": 20,
          "total": 100,
          "totalPages": 5
        }
      }
    }
  }
}
```

---

## üìä Graph Service API

### Projects

#### List Projects

```http
GET /api/v1/graph/projects?page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Query Parameters:**

- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListProjectsResponse`

#### Get Project

```http
GET /api/v1/graph/projects/{projectId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Response:** `ProjectResponse`

#### Create Project

```http
POST /api/v1/graph/projects
```

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç.

**Request Body:**

```json
{
  "name": "My Project",
  "description": "Project description"
}
```

**Response:** `ProjectResponse`

#### Update Project

```http
PATCH /api/v1/graph/projects/{projectId}
```

–û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Request Body:**

```json
{
  "name": "Updated Name",
  "description": "Updated description"
}
```

**Response:** `ProjectResponse`

#### Delete Project

```http
DELETE /api/v1/graph/projects/{projectId}
```

–£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Response:** `Status`

### Graph

#### Get Graph

```http
GET /api/v1/graph/projects/{projectId}/graph
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –≥—Ä–∞—Ñ –ø—Ä–æ–µ–∫—Ç–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Response:** `GraphResponse`

#### Update Graph

```http
PUT /api/v1/graph/projects/{projectId}/graph
```

–û–±–Ω–æ–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ –ø—Ä–æ–µ–∫—Ç–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Request Body:**

```json
{
  "graphData": {
    "nodes": [
      /* –º–∞—Å—Å–∏–≤ —É–∑–ª–æ–≤ */
    ],
    "edges": [
      /* –º–∞—Å—Å–∏–≤ —Å–≤—è–∑–µ–π */
    ]
  }
}
```

**Response:** `GraphResponse`

#### List Graph Versions

```http
GET /api/v1/graph/projects/{projectId}/graph/versions?page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤–µ—Ä—Å–∏–π –≥—Ä–∞—Ñ–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Query Parameters:**

- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListGraphVersionsResponse`

#### Revert Graph Version

```http
POST /api/v1/graph/projects/{projectId}/graph/revert
```

–û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Request Body:**

```json
{
  "version": 5
}
```

**Response:** `GraphResponse`

### Services

#### List Services

```http
GET /api/v1/graph/projects/{projectId}/services?page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Query Parameters:**

- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListServicesResponse`

#### Get Service

```http
GET /api/v1/graph/projects/{projectId}/services/{nodeId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–∏—Å–µ.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞
- `nodeId` - ID —É–∑–ª–∞ —Å–µ—Ä–≤–∏—Å–∞

**Response:** `ServiceResponse`

### SSE (Server-Sent Events)

#### Graph Updates Stream

```http
GET /api/v1/graph/sse/events?projectId={projectId}
```

–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**Query Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Response:** Server-Sent Events stream

---

## üé® Codegen Service API

### Generation

#### Generate Project

```http
POST /api/v1/codegen/projects/{projectId}/generate
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Request Body:**

```json
{
  "aiModel": "openai/gpt-4o-mini",
  "options": {}
}
```

**Response:** `GenerateProjectResponse`

#### Generate Service

```http
POST /api/v1/codegen/projects/{projectId}/services/{nodeId}/generate
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞
- `nodeId` - ID —É–∑–ª–∞ —Å–µ—Ä–≤–∏—Å–∞

**Request Body:**

```json
{
  "aiModel": "openai/gpt-4o-mini",
  "options": {}
}
```

**Response:** `GenerateServiceResponse`

### Validation

#### Validate Project

```http
POST /api/v1/codegen/projects/{projectId}/validate
```

–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞

**Request Body:**

```json
{
  "levels": ["structural", "contract", "typescript", "build", "health"]
}
```

**Response:** `ValidateProjectResponse`

#### Validate Service

```http
POST /api/v1/codegen/projects/{projectId}/services/{nodeId}/validate
```

–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞.

**Path Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞
- `nodeId` - ID —É–∑–ª–∞ —Å–µ—Ä–≤–∏—Å–∞

**Request Body:**

```json
{
  "levels": ["structural", "contract", "typescript", "build", "health"]
}
```

**Response:** `ValidateServiceResponse`

### Blueprints

#### List Blueprints

```http
GET /api/v1/codegen/blueprints?category=0
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö blueprints.

**Query Parameters:**

- `category` (optional) - –∫–∞—Ç–µ–≥–æ—Ä–∏—è blueprint (enum)

**Response:** `ListBlueprintsResponse`

#### Get Blueprint

```http
GET /api/v1/codegen/blueprints/{blueprintId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ blueprint.

**Path Parameters:**

- `blueprintId` - ID blueprint

**Response:** `BlueprintResponse`

### Contracts

#### Discover Contracts

```http
POST /api/v1/codegen/contracts/discover
```

–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ –∫–æ–¥–µ.

**Request Body:**

```json
{
  "codePath": "/generated/project/service",
  "serviceName": "my-service"
}
```

**Response:** `DiscoverContractsResponse`

#### Validate Contracts

```http
POST /api/v1/codegen/contracts/validate
```

–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.

**Request Body:**

```json
{
  "contracts": [
    /* –º–∞—Å—Å–∏–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ */
  ]
}
```

**Response:** `ValidateContractsResponse`

---

## üñ•Ô∏è Infrastructure Service API

### Servers

#### List Servers

```http
GET /api/v1/infrastructure/servers?clusterId={clusterId}&page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤.

**Query Parameters:**

- `clusterId` (optional) - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É
- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListServersResponse`

#### Get Server

```http
GET /api/v1/infrastructure/servers/{serverId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ.

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Response:** `ServerResponse`

#### Create Server

```http
POST /api/v1/infrastructure/servers
```

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä.

**Request Body:**

```json
{
  "name": "My Server",
  "host": "192.168.1.100",
  "port": 22,
  "username": "root",
  "sshKeyId": "key-id"
}
```

**Response:** `ServerResponse`

#### Update Server

```http
PATCH /api/v1/infrastructure/servers/{serverId}
```

–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä.

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Request Body:**

```json
{
  "name": "Updated Name",
  "host": "192.168.1.101"
}
```

**Response:** `ServerResponse`

#### Delete Server

```http
DELETE /api/v1/infrastructure/servers/{serverId}
```

–£–¥–∞–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä.

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Response:** `Status`

#### Test SSH Connection

```http
POST /api/v1/infrastructure/servers/test-ssh
```

–¢–µ—Å—Ç–∏—Ä—É–µ—Ç SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.

**Request Body:**

```json
{
  "host": "192.168.1.100",
  "port": 22,
  "username": "root",
  "sshKeyId": "key-id"
}
```

**Response:** `TestServerConnectionResponse`

#### Configure Server

```http
POST /api/v1/infrastructure/servers/{serverId}/configure
```

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ).

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Request Body:**

```json
{
  "installDocker": true,
  "configureEnvironment": true
}
```

**Response:** `ConfigureServerResponse`

#### Install Agent

```http
POST /api/v1/infrastructure/servers/{serverId}/agent/install
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Runner Agent –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Request Body:**

```json
{
  "version": "latest"
}
```

**Response:** `InstallAgentResponse`

#### Get Agent Status

```http
GET /api/v1/infrastructure/servers/{serverId}/agent/status
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å Runner Agent –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**Path Parameters:**

- `serverId` - ID —Å–µ—Ä–≤–µ—Ä–∞

**Response:** `AgentStatusResponse`

#### Calculate System Requirements

```http
POST /api/v1/infrastructure/servers/requirements
```

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è –ø—Ä–æ–µ–∫—Ç–∞.

**Request Body:**

```json
{
  "projectId": "project-id",
  "services": [
    /* –º–∞—Å—Å–∏–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ */
  ]
}
```

**Response:** `CalculateSystemRequirementsResponse`

### Clusters

#### List Clusters

```http
GET /api/v1/infrastructure/clusters?page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤.

**Query Parameters:**

- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListClustersResponse`

#### Get Cluster

```http
GET /api/v1/infrastructure/clusters/{clusterId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∞—Å—Ç–µ—Ä–µ.

**Path Parameters:**

- `clusterId` - ID –∫–ª–∞—Å—Ç–µ—Ä–∞

**Response:** `ClusterResponse`

#### Create Cluster

```http
POST /api/v1/infrastructure/clusters
```

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä.

**Request Body:**

```json
{
  "name": "My Cluster",
  "description": "Cluster description"
}
```

**Response:** `ClusterResponse`

#### Update Cluster

```http
PATCH /api/v1/infrastructure/clusters/{clusterId}
```

–û–±–Ω–æ–≤–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä.

**Path Parameters:**

- `clusterId` - ID –∫–ª–∞—Å—Ç–µ—Ä–∞

**Request Body:**

```json
{
  "name": "Updated Name"
}
```

**Response:** `ClusterResponse`

#### Delete Cluster

```http
DELETE /api/v1/infrastructure/clusters/{clusterId}
```

–£–¥–∞–ª—è–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä.

**Path Parameters:**

- `clusterId` - ID –∫–ª–∞—Å—Ç–µ—Ä–∞

**Response:** `Status`

#### List Cluster Servers

```http
GET /api/v1/infrastructure/clusters/{clusterId}/servers?page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ.

**Path Parameters:**

- `clusterId` - ID –∫–ª–∞—Å—Ç–µ—Ä–∞

**Query Parameters:**

- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListServersResponse`

---

## üöÄ Deployment Service API

### Deployments

#### Create Deployment

```http
POST /api/v1/deployment/deployments
```

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞.

**Request Body:**

```json
{
  "projectId": "project-id",
  "serverId": "server-id",
  "config": {
    "environment": "production",
    "replicas": 1
  }
}
```

**Response:** `DeployProjectResponse`

#### Get Deployment

```http
GET /api/v1/deployment/deployments/{deploymentId}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ–ø–ª–æ–µ.

**Path Parameters:**

- `deploymentId` - ID –¥–µ–ø–ª–æ—è

**Response:** `DeploymentResponse`

#### List Deployments

```http
GET /api/v1/deployment/deployments?projectId={projectId}&statusFilter=0&page=1&limit=10
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–µ–ø–ª–æ–µ–≤.

**Query Parameters:**

- `projectId` - ID –ø—Ä–æ–µ–∫—Ç–∞
- `statusFilter` (optional) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (enum)
- `page` (optional) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (optional) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**Response:** `ListDeploymentsResponse`

#### Get Deployment Status

```http
GET /api/v1/deployment/deployments/{deploymentId}/status
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è.

**Path Parameters:**

- `deploymentId` - ID –¥–µ–ø–ª–æ—è

**Response:** `DeploymentStatusResponse`

#### Cancel Deployment

```http
POST /api/v1/deployment/deployments/{deploymentId}/cancel
```

–û—Ç–º–µ–Ω—è–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π.

**Path Parameters:**

- `deploymentId` - ID –¥–µ–ø–ª–æ—è

**Request Body:**

```json
{
  "reason": "User requested cancellation"
}
```

**Response:** `Status`

#### Rollback Deployment

```http
POST /api/v1/deployment/deployments/{deploymentId}/rollback
```

–û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–ø–ª–æ–π –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏.

**Path Parameters:**

- `deploymentId` - ID –¥–µ–ø–ª–æ—è

**Request Body:**

```json
{
  "targetVersion": 5,
  "reason": "Rollback due to issues"
}
```

**Response:** `RollbackDeploymentResponse`

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Üí –¥–µ–ø–ª–æ–π

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
PROJECT_ID=$(curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name":"My Project","description":"Test project"}' \
  http://traefik.localhost/api/v1/graph/projects \
  | jq -r '.result.success.data.project.id')

# 2. –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä–∞—Ñ
curl -X PUT \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"graphData":{"nodes":[],"edges":[]}}' \
  http://traefik.localhost/api/v1/graph/projects/$PROJECT_ID/graph

# 3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"aiModel":"openai/gpt-4o-mini"}' \
  http://traefik.localhost/api/v1/codegen/projects/$PROJECT_ID/generate

# 4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"levels":["structural","contract","typescript"]}' \
  http://traefik.localhost/api/v1/codegen/projects/$PROJECT_ID/validate

# 5. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
DEPLOYMENT_ID=$(curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d "{\"projectId\":\"$PROJECT_ID\",\"serverId\":\"server-id\",\"config\":{}}" \
  http://traefik.localhost/api/v1/deployment/deployments \
  | jq -r '.result.success.data.deployment.id')

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl -X GET \
  -H "Authorization: Bearer $TOKEN" \
  http://traefik.localhost/api/v1/deployment/deployments/$DEPLOYMENT_ID/status
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601
- –í—Å–µ UUID –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- Enum –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç Protobuf enum –∏–∑ `@axion/contracts`
- –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–∞—Ö —Å–º. Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –í—Å–µ endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç CORS –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö origins

## üîó –°–º. —Ç–∞–∫–∂–µ

- [Architecture Documentation](./ARCHITECTURE.mdx) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [Contracts Documentation](./CONTRACTS_AND_VALIDATION.mdx) - Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- [Development Setup](./DEVELOPMENT_SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
