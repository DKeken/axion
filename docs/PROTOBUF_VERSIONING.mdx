---
title: "Protobuf Versioning & Breaking Changes"
description: "–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ breaking changes"
order: 11
---

# Protobuf Versioning & Breaking Changes

Axion Stack –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ breaking changes.

## üìã –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### Semantic Versioning –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Protobuf –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:

- **MAJOR**: Breaking changes (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- **MINOR**: –ù–æ–≤—ã–µ –ø–æ–ª—è, –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ)
- **PATCH**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ)

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

Protobuf –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª:

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å optional –∏–ª–∏ –∏–º–µ—Ç—å default values)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π (–∏—Å–ø–æ–ª—å–∑—É—è `[deprecated = true]` + –Ω–æ–≤–æ–µ –ø–æ–ª–µ)
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ field numbers

## üîß –ü—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

```protobuf
message CreateProjectRequest {
  axion.common.RequestMetadata metadata = 1;
  string name = 2;
  string description = 3;
  // ‚úÖ –ù–æ–≤–æ–µ –ø–æ–ª–µ - optional, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ
  optional string tags = 4;
}
```

### –£—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π

```protobuf
message UpdateProjectRequest {
  axion.common.RequestMetadata metadata = 1;
  string name = 2;
  // –£—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ - –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ deprecated
  string old_field = 3 [deprecated = true];
  // –ù–æ–≤–æ–µ –ø–æ–ª–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
  string new_field = 4;
}
```

### Breaking changes (—Ç—Ä–µ–±—É–µ—Ç MAJOR –≤–µ—Ä—Å–∏–∏)

```protobuf
// ‚ùå Breaking change - —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
message CreateProjectRequest {
  axion.common.RequestMetadata metadata = 1;
  // –£–¥–∞–ª–µ–Ω–æ: string name = 2; // BREAKING!
  string title = 3; // –ù–æ–≤–æ–µ –ø–æ–ª–µ –≤–º–µ—Å—Ç–æ name
}

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ, —Å—Ç–∞—Ä–æ–µ –ø–æ–º–µ—á–∏—Ç—å deprecated
message CreateProjectRequest {
  axion.common.RequestMetadata metadata = 1;
  string name = 2 [deprecated = true];
  string title = 3; // –ù–æ–≤–æ–µ –ø–æ–ª–µ
}
```

## üìù –ü—Ä–æ—Ü–µ—Å—Å –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. Minor/Patch –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ)

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ proto —Ñ–∞–π–ª (optional –∏–ª–∏ —Å default value)
2. –†–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–∏–ø—ã: `cd packages/contracts && bun run generate`
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
4. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
5. –°—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (–Ω–æ–≤–æ–µ –ø–æ–ª–µ –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)

### 2. Breaking changes (—Ç—Ä–µ–±—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏)

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v2`)
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –≤ `[deprecated = true]`
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
4. –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
5. –£–¥–∞–ª–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### Contract Tests

Contract tests –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:

```typescript
// tests/contracts/example.test.ts
import { CreateProjectRequest } from "@axion/contracts";

test("CreateProjectRequest backward compatibility", () => {
  // –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (–±–µ–∑ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è)
  const oldRequest: CreateProjectRequest = {
    metadata: createRequestMetadata("user-123"),
    name: "Project Name",
  };

  // –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
  expect(oldRequest).toBeDefined();
  expect(oldRequest.name).toBe("Project Name");
});
```

## üö® Breaking Changes Policy

### –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è MAJOR –≤–µ—Ä—Å–∏—è:

1. **–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π** - –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ optional
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–ª—è
3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ field numbers** - –Ω–∞—Ä—É—à–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
4. **–£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - —É–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ª–æ–≥–æ message type
5. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ enum –∑–Ω–∞—á–µ–Ω–∏–π** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö enum values

### –ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ MINOR –≤–µ—Ä—Å–∏–∏:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π** (optional –∏–ª–∏ —Å default)
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π**
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö enum –∑–Ω–∞—á–µ–Ω–∏–π**
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤/–º–µ—Ç–æ–¥–æ–≤**

## üîó –°–º. —Ç–∞–∫–∂–µ

- [Contracts & Validation](./CONTRACTS_AND_VALIDATION.mdx) - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö
- [API Reference](./API_REFERENCE.mdx) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [Architecture](./ARCHITECTURE.mdx) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
