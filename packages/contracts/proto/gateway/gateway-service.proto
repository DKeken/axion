syntax = "proto3";

package axion.gateway;

import "common/common.proto";
import "common/health.proto";
import "gateway/discovery.proto";
import "gateway/routing.proto";

// Gateway Service - Service Discovery Ð¸ routing

service GatewayService {
  // Service Discovery
  rpc RegisterService(RegisterServiceRequest) returns (axion.common.Empty);
  rpc UnregisterService(UnregisterServiceRequest) returns (axion.common.Empty);
  rpc Heartbeat(HeartbeatRequest) returns (axion.common.Empty);
  rpc DiscoverService(DiscoverServiceRequest) returns (ServiceInstanceResponse);
  rpc ListServices(ListServicesRequest) returns (ListServicesResponse);
  
  // Routing
  rpc RouteRequest(RouteRequestRequest) returns (RouteRequestResponse);
  
  // Health Check
  rpc HealthCheck(axion.common.HealthCheckRequest) returns (axion.common.HealthCheckResponse);
}
