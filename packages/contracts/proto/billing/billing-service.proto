syntax = "proto3";

package axion.billing;

import "common/common.proto";
import "common/health.proto";
import "billing/subscriptions.proto";
import "billing/usage.proto";
import "billing/invoices.proto";

// Billing Service - биллинг и управление подписками

service BillingService {
  // Subscriptions
  rpc GetSubscription(GetSubscriptionRequest) returns (SubscriptionResponse);
  rpc UpdateSubscription(UpdateSubscriptionRequest) returns (SubscriptionResponse);
  rpc CancelSubscription(CancelSubscriptionRequest) returns (SubscriptionResponse);
  
  // Usage tracking
  rpc TrackUsage(TrackUsageRequest) returns (axion.common.Empty);
  rpc GetUsage(GetUsageRequest) returns (UsageResponse);
  rpc CheckLimits(CheckLimitsRequest) returns (CheckLimitsResponse);
  
  // Invoices
  rpc ListInvoices(ListInvoicesRequest) returns (ListInvoicesResponse);
  rpc GetInvoice(GetInvoiceRequest) returns (InvoiceResponse);
  
  // Health Check
  rpc HealthCheck(axion.common.HealthCheckRequest) returns (axion.common.HealthCheckResponse);
}
